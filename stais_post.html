
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>STAIS Survey (Post)</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 40px; max-width: 900px; margin: auto; line-height: 1.6; }
    .question { margin-bottom: 20px; }
    .option { display: inline-block; margin-right: 15px; white-space: nowrap; }
    .scale-title { background-color: #f0f0f0; padding: 10px; border-radius: 6px; margin-bottom: 20px; line-height: 1.5; }
    button { margin-top: 30px; padding: 10px 20px; font-size: 16px; }
  </style>
</head>
<body>
  <h2>STAIS Survey (Post)</h2>

  <div class="scale-title">
    <b>Instructions:</b><br><br>
    A number of statements which people have used to describe themselves are given below.
    Read each statement and then select the response that best describes how you feel <b>right now, at this moment</b>.
    There are no right or wrong answers. Do not spend too much time on any one statement.
  </div>

  <form id="staisForm">
    <!-- Questions -->
    <div class='question'><label>1. I feel calm</label><br><label class='option'><input type='radio' name='q0' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q0' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q0' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q0' value='4' required> Very much so</label> </div>
<div class='question'><label>2. I feel secure</label><br><label class='option'><input type='radio' name='q1' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q1' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q1' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q1' value='4' required> Very much so</label> </div>
<div class='question'><label>3. I am tense</label><br><label class='option'><input type='radio' name='q2' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q2' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q2' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q2' value='4' required> Very much so</label> </div>
<div class='question'><label>4. I feel strained</label><br><label class='option'><input type='radio' name='q3' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q3' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q3' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q3' value='4' required> Very much so</label> </div>
<div class='question'><label>5. I feel at ease</label><br><label class='option'><input type='radio' name='q4' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q4' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q4' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q4' value='4' required> Very much so</label> </div>
<div class='question'><label>6. I feel upset</label><br><label class='option'><input type='radio' name='q5' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q5' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q5' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q5' value='4' required> Very much so</label> </div>
<div class='question'><label>7. I am worried</label><br><label class='option'><input type='radio' name='q6' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q6' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q6' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q6' value='4' required> Very much so</label> </div>
<div class='question'><label>8. I feel confused</label><br><label class='option'><input type='radio' name='q7' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q7' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q7' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q7' value='4' required> Very much so</label> </div>
<div class='question'><label>9. I feel content</label><br><label class='option'><input type='radio' name='q8' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q8' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q8' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q8' value='4' required> Very much so</label> </div>
<div class='question'><label>10. I am nervous</label><br><label class='option'><input type='radio' name='q9' value='1' required> Not at all</label> <label class='option'><input type='radio' name='q9' value='2' required> Somewhat</label> <label class='option'><input type='radio' name='q9' value='3' required> Moderately so</label> <label class='option'><input type='radio' name='q9' value='4' required> Very much so</label> </div>

    <button type="submit">Continue</button>
  </form>

  
<script>
  document.getElementById("staisForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const form = new FormData(this);
    let complete = true;
    const responses = {};
    for (let i = 0; i < 10; i++) {
      const val = form.get("q" + i);
      if (!val) complete = false;
      responses["q" + i] = val;
    }
    if (!complete) {
      alert("Please answer all questions before continuing.");
      return;
    }

    localStorage.setItem("STAIS_post", JSON.stringify(responses));
    const order = JSON.parse(localStorage.getItem("SurveyOrder"));

    if (order === "STAIS_first") {
      // This is the first post-survey → go to PANAS next
      window.location.href = "panas_post.html";
    } else {
      // STAIS was second → done
      window.location.href = "debrief.html";
    }
  });
</script>







<script>
  function handleContinue() {
    const unanswered = [];
    document.querySelectorAll(".question").forEach((q, idx) => {
      const checked = q.querySelector("input[type='radio']:checked");
      if (!checked) {
        unanswered.push(idx + 1);
        q.style.border = "2px solid red";
      } else {
        q.style.border = "none";
      }
    });

    if (unanswered.length > 0) {
      alert("Please answer all questions. Missing: " + unanswered.join(", "));
      return;
    }

    const order = JSON.parse(localStorage.getItem("SurveyOrder"));
    if (order === "PANAS_first" && window.location.href.includes("panas_post.html")) {
      window.location.href = "stais_post.html";
    } else if (order === "STAIS_first" && window.location.href.includes("stais_post.html")) {
      window.location.href = "panas_post.html";
    } else {
      window.location.href = "debrief.html";
    }
  }
</script>

</body>
</html>
